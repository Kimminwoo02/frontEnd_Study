<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../css/reset.css">
  <style>
    .slider-container{ width:1000px; margin: auto;}
    .slider{ width:100%; position: relative; border: 5px solid black; height: 500px;
        overflow: hidden;
    }
    .slider>div{ width:100%; position: absolute; left:100%;   }
    /* .slider>div:nth-child(1){ left:0; } */
    .slider img{ width:100%; }
  </style>
</head>
<body>
    <div class="slider-container">
      <div class="slider">
          <div>
            <img src="https://app-storage-edge-002.cafe24.com/bannermanage2/mylady333/2022/01/13/1d4aa83d667966a2712d880b457cd3a4.gif" alt="">
          </div>
          <div>
            <img src="https://app-storage-edge-002.cafe24.com/bannermanage2/mylady333/2022/01/11/8e3aba21e5618f57517b92e5d516c4c0.jpg" alt="">
          </div>
          <div>
            <img src="https://app-storage-edge-002.cafe24.com/bannermanage2/mylady333/2022/01/11/951bdf10d2634698a17c330fa31e8c69.jpg" alt="">
          </div>
      </div>
    </div>

    <div class="slider-controls">
      <button class="prev">PREV</button>
      <button class="next">NEXT</button>
    </div>

    <script  src="../script/jquery-3.6.0.min.js"></script>
    <script>
        $(function(){
          let count = 0;
          let current = count; 
          $('.slider>div').eq(count).css({'left':0});

          $('.next').click(function(){
             $('.slider>div').eq(current).animate({'left':'-100%'}, function(){
                    $(this).css({ 'left': '100%'});
                    // animation  멈춤
             });

              if( count>=2 ) count = 0 ;
              else count++;

              //count = count>=2 ? 0 : count++;

              $('.slider>div').eq(count).animate({'left':0});

              current = count; 
          })

          $('.prev').click(function(){
             $('.slider>div').eq(current).animate({'left':'100%'}, function(){
                    $(this).css({ 'left': '-100%'});
                    // animation  멈춤
             });

              if( count<=0) count = 2 ;
              else count--;

              //count = count>=2 ? 0 : count++;

              $('.slider>div').eq(count).css({'left': '-100%'}).animate({'left':0});
              // 애니메이션 될 이미지를 왼쪽으로 먼저 이동 한 후  애니메이션 시킴

              current = count; 
          })
        })

    </script>
</body>
</html>